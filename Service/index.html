<!DOCTYPE html>
<html>
<head>
	<title>
		JavaScript | Sending JSON data to server.
	</title>
</head>

<body style="text-align:center;" id="body">
	<h1 style="color:green;">Test</h1>
	<p>
		<textarea id="data1" name="data1" rows="10" cols="50">{"name":"Edward"}</textarea>
		<button onclick="sendJSON1()">Send msg1</button>

		<textarea id="data2" name="data2" rows="10" cols="50">{"name":"Edward","address":"address"}</textarea>
		<button onclick="sendJSON2()">Send msg2</button>

		<script>
			function sendJSON1() {
				let xhr = new XMLHttpRequest();
                xhr.open("POST", "http://localhost:7046/api/HTTPApplesFuncRun");
				xhr.setRequestHeader("Accept", "application/json");
				xhr.setRequestHeader("Content-Type", "application/json");
				//xhr.send( JSON.stringify( document.getElementById("data").textContent ) ); //  JSON.stringify(data));
				xhr.send(document.getElementById("data1").textContent); //  JSON.stringify(data));
			}
			function sendJSON2() {
				let xhr = new XMLHttpRequest();
                xhr.open("POST", "http://localhost:7046/api/HTTPOrangesFuncRun");
				xhr.setRequestHeader("Accept", "application/json");
				xhr.setRequestHeader("Content-Type", "application/json");
				//xhr.send( JSON.stringify( document.getElementById("data").textContent ) ); //  JSON.stringify(data));
				xhr.send(document.getElementById("data2").textContent); //  JSON.stringify(data));
			}
		</script>

</body>
</html>